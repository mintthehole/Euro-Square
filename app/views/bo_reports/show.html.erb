<style type="text/css">
  .dashboard-date-range {
    background-color: #D12610;
    color: #FFFFFF;
    cursor: pointer;
    display: none;
    height: 20px;
    margin-right: -30px;
    padding: 10px 9px 7px;
    position: relative;
    top: -9px;
    color: #FFFFFF;
    font-size: 13px;
    font-weight: 300;
    text-transform: uppercase;
    font-family: 'Open Sans',sans-serif;
  }
  body{
    width:100%;
    overflow-x:hidden;
  }
  #tableContainer_length{
    display: none;
  }
  .dataTables_scroll {
      clear: both;
      overflow-x: scroll;
  }

  .odd td:first-child {
    border-right:0px solid #fff;
  }
  .odd td{
    border-right:1px solid #fff;
  }
  .even td{
    border-right:1px solid #E2E4FF;

  }
  th{
    min-width:180px !important;
    max-width:180px !important;
  }
  td{
    min-width:180px !important;
    max-width:180px !important;
  }
  .row-id{
    min-width:30px !important;
  }
  .ui-widget-header{
    background-color: #ccc;
  }
</style>
<div class="row-fluid">
  <div class="span12">
    <!-- BEGIN PAGE TITLE & BREADCRUMB-->
    <h3 class="page-title">
    Booking Report <%= @bo_report.name %><small> <%= @bo_report.description || "description"%></small>
    </h3>
    <ul class="page-breadcrumb breadcrumb">
      <li>
        <i class="icon-home"></i>
        <a href="/bo_reports">All Reports</a>
        <i class="icon-angle-right"></i>
      </li>
      <li>
        <a href="#"><%= @bo_report.name %></a>
      </li>
      <li class="pull-right">
        <div data-original-title="Change dashboard date range" data-placement="top" class="dashboard-date-range tooltips" id="dashboard-report-range" style="display: block;">
          <i class="icon-calendar"></i>
          <%= Time.zone.today.strftime("%B %d, %Y") %>
          -
          <%= (Time.zone.today-1.month).strftime("%B %d, %Y") %>
          </span>
          <i class="icon-angle-down"></i>
        </div>
      </li>
    </ul>
    <!-- END PAGE TITLE & BREADCRUMB-->
  </div>
</div>


<div class="row-fluid">
  <div class="span12">
  <% headers = @bo_report.bo_report_fields.collect(&:magic_column) %>
  <% bookings = Booking.all %>
    <div style="width:98%;">
      <table id="tableContainer" class="display" style="width:96%" data-source="<%= bo_report_path(@bo_report,format: "json") %>">
        <thead>
          <tr>
            <th class="row-id" style="width:30px;">
              ID
            </th>
            <% headers.each do |mf| %>
              <th>
              <%= mf.pretty_name %>
              </th>

            <% end %>
        </thead>
          <tbody>
            <% bookings.each_with_index do |booking,i| %>
                <% booking.customer_name %>
                <tr>
                  <td class="row-id" style="width:30px;">
                    <%= i+1 %>
                  </td>
                  <% headers.each do |header| %>
                    <td>
                      <%= booking[header.name] || Random.new.rand(100000..1000000) %>
                    </td>
                  <% end %>
                </tr>
              <% end %>
          </tbody>
      </table>
    </div>


  </div>
</div>
